package com.incredibles.data;

import java.util.HashMap;
import java.util.Map.Entry;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;

/**This class used to get Facebook place tags with facebook place tag id,
 * name, and our discriminators with numbers to help categorize events, witch
 * defines how much event was categorized based on this tag into which discriminator*/
public class FacebookPlaceTag {
	
	
	/**Facebook Place tag Id*/
	protected Integer Id;
	
	/**Tag name*/
	protected String name;
	
	/**Defines how much event was categorized based on this tag, and what discriminator*/
	protected HashMap<String, Integer> discriminatorNumber;
	
	public Integer getId() {
		return Id;
	}

	public void setId(Integer id) {
		Id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public HashMap<String, Integer> getDiscriminatorNumber() {
		return discriminatorNumber;
	}

	public void setDiscriminatorNumber(HashMap<String, Integer> discriminatorNumber) {
		this.discriminatorNumber = discriminatorNumber;
	}
	
	/**Return discriminator numbers in json*/
	public JSONObject getDiscriminatorNumberJson(){
		JSONArray discNumArray = new JSONArray();
		for(Entry<String, Integer> entry: this.discriminatorNumber.entrySet()){
			JSONObject discNum = new JSONObject();
			String discriminator = entry.getKey();
			Integer number = entry.getValue();
			discNum.put(discriminator, number);
			discNumArray.add(discNum);
		}
		JSONObject discriminatorJson = new JSONObject();
		discriminatorJson.put("data", discNumArray);
		return discriminatorJson;
	}
	
	/**Sets discriminatorNumber from json string
	 * @throws ParseException */
	public void setDiscriminatorNumberJson(String json) throws ParseException{
		JSONParser parser=new JSONParser();
		Object obj=parser.parse(json);
		JSONObject discriminatorJson=(JSONObject)obj;
		JSONArray discArray = (JSONArray) discriminatorJson.get("data");
		for(int i=0; i<discArray.size(); i++){
			JSONObject disc = (JSONObject) discArray.get(i);
			//String Discriminator = disc.
		}
	}
	
}
